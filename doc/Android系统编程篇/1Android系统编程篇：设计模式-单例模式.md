# Android系统编程篇：设计模式-单例模式

作者: 郭孝星  
邮箱: guoxiaoxingse@163.com  
博客: http://blog.csdn.net/allenwells   
简书: http://www.jianshu.com/users/66a47e04215b/latest_articles  

**关于作者**

>郭孝星，非著名程序员，代码洁癖患者，爱编程，好吉他，喜烹饪，爱一切有趣的事物和人。

**关于文章**

>作者的文章会同时发布在Github、CSDN与简书上, 文章顶部也会附上文章的Github链接。如果文章中有什么疑问也欢迎发邮件与我交流, 对于交流的问
题, 请描述清楚问题并附上代码与日志, 一般都会给予回复。如果文章中有什么错误, 也欢迎斧正。如果你觉得本文章对你有所帮助, 也欢迎去star文
章, 关注文章的最新的动态。另外建议大家去Github上浏览文章，一方面文章的写作都是在Github上进行的，所以Github上的更新是最及时的，另一方
面感觉Github对Markdown的支持更好，文章的渲染也更加美观。

文章目录：https://github.com/guoxiaoxing/android-open-source-project-analysis

单例模式可能是我们最常见的模式之一了，在单例模式中，我们要求一个系统只有一个全局对象存在，这样有利用我们去协调系统的整体行为。比如在某个服
务器程序中，该服务器的配置信息存放在一个文件中，这些配置数据由一个单例对象统一读取，然后服务进程中的其他对象再通过这个单例对象获取这些配置
信息。这种方式简化了在复杂环境下的配置管理。


## 模式定义

> 某个类有且只有一个实例，并且自行实例化，并向系统提供这个实例。


单例模式常见的使用场景如下所示：

```
某个类的对象有且只有一个对象存在，这种场景分以下两种情况：
1 创建对象需要消耗大量资源，保证对象单一共享，减少资源消耗。
2 对象本身具有唯一性，不应该多次创建。
```

## 模式实现

单例模式实现要点：

```
1 构造函数不对外开放，一般为Private。
2 通过一个静态方法或者枚举类返回单例类对象。
3 确保单例类的对象有且只有一个，尤其要主要多线程环境下的线程安全问题，
3 确保单例类在反序列化时不会重新构建对象。
```

针对以上的实现要点，单例模式的实现一般说来有6种实现方式：

```
1 懒汉式单例
2 饿汉式单例
2 双层校验锁单例
3 静态内部类单例
4 枚举单例
5 容器单例
```

6种模式各有利弊，我们分别来看看这6种模式的具体实现方式以及它们的使用场景。


### 懒汉式单例
### 饿汉式单例
### 双层校验锁单例
### 静态内部类单例
### 枚举单例
### 容器单例

### 懒汉式，线程安全


## 模式实践